<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
    <meta name="generator" content="made with love by dartdoc 0.30.1">
    <meta name="description" content="flutter_repository API docs, for the Dart programming language.">
    <title>flutter_repository - Dart API docs</title>


    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500,400i,400,300|Source+Sans+Pro:400,300,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="static-assets/github.css">
    <link rel="stylesheet" href="static-assets/styles.css">
    <link rel="icon" href="static-assets/favicon.png">

</head>

<body data-base-href="">

    <div id="overlay-under-drawer"></div>

    <header id="title">
        <button id="sidenav-left-toggle" type="button">&nbsp;</button>
        <ol class="breadcrumbs gt-separated dark hidden-xs">
            <li class="self-crumb">flutter_repository package</li>
        </ol>
        <div class="self-name">flutter_repository</div>
        <form class="search navbar-right" role="search">
            <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
        </form>
    </header>

    <main>

        <div id="dartdoc-sidebar-left" class="col-xs-6 col-sm-3 col-md-2 sidebar sidebar-offcanvas-left">
            <header id="header-search-sidebar" class="hidden-l">
                <form class="search-sidebar" role="search">
                    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
                </form>
            </header>

            <ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
                <li class="self-crumb">flutter_repository package</li>
            </ol>

            <h5 class="hidden-xs"><span class="package-name">flutter_repository</span> <span class="package-kind">package</span></h5>
            <ol>
                <li class="section-title">Libraries</li>
                <li><a href="Adapters_Adapter/Adapters_Adapter-library.html">Adapter</a></li>
                <li><a href="models_BaseRepoModel/models_BaseRepoModel-library.html">BaseRepoModel</a></li>
                <li><a href="repositories_DatabaseRepository/repositories_DatabaseRepository-library.html">DatabaseRepository</a></li>
                <li><a href="flutter_repository/flutter_repository-library.html">flutter_repository</a></li>
            </ol>
        </div>

        <div id="dartdoc-main-content" class="col-xs-12 col-sm-9 col-md-8 main-content">
            <section class="desc markdown">
                <h1 id="repository">Repository</h1>
                <p>This package is used to easily port firebase database data into Dart classes.</p>
                <h2 id="getting-started">Getting Started</h2>
                <h3 id="1---install-the-package">1 - Install the package</h3>
                <p>First, install the package by placing it in the flutter dependencies in your pubspec.yaml</p>
                <pre class="language-Pubspec.yaml"><code class="language-Pubspec.yaml">Repository:
    git: https://github.com/GB0307/FlutterRepository.git
</code></pre>
                <h3 id="2---creating-models">2 - Creating models</h3>
                <p>For each "class" in your database, create a data model class extending DBModel for it, for an example, a class User, with the variables name and email:</p>
                <pre class="language-Dart"><code class="language-Dart">class UserModel extends DBModel{
  UserModel.fromMap(String key, Map rawData) : super(key, rawData);
  
  String name;
  String email;
  
  @override
  void setData() {
      title = rawData['title'];
      email = rawData['email'];
  }
  
  @override
  Map&lt;String, dynamic&gt; toMap() {
    return &lt;String, dynamic&gt;{
      'name': name,
      'email': email
    }
  }
}
</code></pre>
                <h4 id="31---creating-a-list-of-models">3.1 - Creating a List of models</h4>
                <p>If you are actually retrieving a list of classes from the database, you will need another class called DBModelList or SortedDBModelList</p>
                <pre class="language-Dart"><code class="language-Dart">// Use DBModelList if sorting data is not needed
class UserModelList extends DBModelList&lt;UserModel&gt; {
  UserModelList.fromMap(String key, Map rawData) : super.fromMap(key, rawData);

  @override
  UserModel newModel(String key, Map data) {
    return UserModel.fromMap(key, data);
  }
}

// Or, SortedDBModelList if you need it

class SortedUserModelList extends SortedDBModelList&lt;UserModel&gt;{
  SortedUserModelList.fromMap(String key, Map rawData) : super.fromMap(key, rawData, inverse: false, sortFunction: (userA, userB) =&gt; userA.title.compareTo(userB.title));

  @override
  UserModel newModel(String key, Map data) {
    return UserModel.fromMap(key, data);
  }
}
</code></pre>
                <h3 id="4---creating-the-repository">4 - Creating the repository</h3>
                <p>To create a repository, extend the class Repository, provide the database path and some optional configs</p>
                <pre class="language-Dart"><code class="language-Dart">class UserRepository extends DatabaseRepository&lt;UserModel&gt; {
  UserRepository(String subPath)
      : super('users', subPath: subPath, enableSync: false, autoInit: true);

  @override
  UserModel mapToModel(Map dbData) {
    return new UserModel.fromMap(subPath, dbData);
  }
}
</code></pre>
                <p>The repository class has some configurations: </p>
                <ul>
                    <li>Path: the path is the database path to the data.</li>
                    <li>subPath: is used to access a subitem located at path (so the full path becomes '$path/$subPath'), it is used when you have a list of items (users in this example) but only want to retrieve one from the database at a time.</li>
                    <li>enableSync: make the repository sync with the database, sending a stream event everytime something is changed</li>
                    <li>autoInit: set the repository to fetch the data automaticaly</li>
                </ul>
                <p>Methods:</p>
                <ul>
                    <li>Future
                        <dbmodel> fetchData(): ignores the current data and force update from the database, it is used when you dont have enableSync active and/or autoInit is disabled, you can also use it if you need a Future
                            <dbmodel> return type instead of a stream event.</dbmodel>
                        </dbmodel>
                    </li>
                    <li>void changeSubPath(String newSubPath): remove the data and listeners from the last subPath and change it to the new one, if you have autoInit enabled it will automaticaly set the new listeners if enableSync is enabled. if not, it will
                        fetch the new data instead.</li>
                    <li>void onInit(): </li>
                    <li>void dispose():</li>
                </ul>
                <p>Properties:</p>
                <ul>
                    <li>RepositoryState state:</li>
                    <li>DBModel currentData: </li>
                    <li>bool enableSync:</li>
                    <li>bool autoInit:</li>
                    <li>String path:</li>
                    <li>String get subPath:</li>
                    <li>String get fullPath:</li>
                    <li>Stream
                        <dbmodel> get stream: ...
                        </dbmodel>
                    </li>
                </ul>
            </section>

            <section class="summary">
                <h2>Libraries</h2>
                <dl>
                    <dt id="Adapter">
              <span class="name"><a href="Adapters_Adapter/Adapters_Adapter-library.html">Adapter</a></span>             
            </dt>
                    <dd>

                    </dd>
                    <dt id="BaseRepoModel">
              <span class="name"><a href="models_BaseRepoModel/models_BaseRepoModel-library.html">BaseRepoModel</a></span>             
            </dt>
                    <dd>

                    </dd>
                    <dt id="DatabaseRepository">
              <span class="name"><a href="repositories_DatabaseRepository/repositories_DatabaseRepository-library.html">DatabaseRepository</a></span>             
            </dt>
                    <dd>

                    </dd>
                    <dt id="flutter_repository">
              <span class="name"><a href="flutter_repository/flutter_repository-library.html">flutter_repository</a></span>             
            </dt>
                    <dd>
                        This libary is used to create better models and repositories. <a href="flutter_repository/flutter_repository-library.html">[...]</a>
                    </dd>
                </dl>
            </section>
            <section class="summary">
                <h2>Dart</h2>
                <dl>
                    <h3>Core</h3>
                    <dt id="dart:async">
                <span class="name"><a href="dart-async/dart-async-library.html">dart:async</a></span>               
              </dt>
                    <dd>
                        Support for asynchronous programming, with classes such as Future and Stream. <a href="dart-async/dart-async-library.html">[...]</a>
                    </dd>
                    <dt id="dart:typed_data">
                <span class="name"><a href="dart-typed_data/dart-typed_data-library.html">dart:typed_data</a></span>               
              </dt>
                    <dd>
                        Lists that efficiently handle fixed sized data (for example, unsigned 8 byte integers) and SIMD numeric types. <a href="dart-typed_data/dart-typed_data-library.html">[...]</a>
                    </dd>
                </dl>
            </section>

        </div>
        <!-- /.main-content -->

        <div id="dartdoc-sidebar-right" class="col-xs-6 col-sm-6 col-md-2 sidebar sidebar-offcanvas-right">
        </div>

    </main>

    <footer>
        <span class="no-break">
    flutter_repository
      0.0.1
  </span>

    </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="static-assets/typeahead.bundle.min.js"></script>
    <script src="static-assets/highlight.pack.js"></script>
    <script src="static-assets/URI.js"></script>
    <script src="static-assets/script.js"></script>


</body>

</html>